@model BloodBankSystem.Models.BloodRequest

@{
    ViewData["Title"] = "Delete Blood Request";
    var hasModel = Model is not null;
}

<h2 class="mb-4">@ViewData["Title"]</h2>

@if (!hasModel)
{
    <div class="alert alert-danger">
        <strong>Unable to load the blood request.</strong> It may have been deleted or is unavailable.
    </div>
    <a asp-action="Dashboard" class="btn btn-secondary">Back to Dashboard</a>
}
else
{
    <div class="card p-4 shadow-sm">
        <div class="alert alert-warning mb-4">
            <strong>Are you sure you want to delete this blood request?</strong> This action cannot be undone.
        </div>

        <ul class="list-group mb-3">
            <li class="list-group-item">
                <strong>Blood Group:</strong> @(Model?.BloodGroup ?? "—")
            </li>
            <li class="list-group-item">
                <strong>Units:</strong> @(Model?.Quantity.ToString() ?? "—")
            </li>
            <li class="list-group-item">
                <strong>Location:</strong> @(Model?.Location ?? "—")
            </li>
            <li class="list-group-item">
                <strong>Message:</strong> @(string.IsNullOrWhiteSpace(Model?.Message) ? "—" : Model!.Message)
            </li>
            <li class="list-group-item">
                <strong>Status:</strong> @(Model?.Status ?? "—")
            </li>
            <li class="list-group-item">
                <strong>Request Date:</strong> @(Model?.RequestDate.ToString("yyyy-MM-dd") ?? "—")
            </li>
        </ul>

        <form asp-action="ConfirmDeleteBloodRequest" asp-route-id="@(Model?.Id)" method="post">
            @Html.AntiForgeryToken()
            <input type="hidden" asp-for="Id" />
            <button type="submit" class="btn btn-danger">Confirm Delete</button>
            <a asp-action="Dashboard" class="btn btn-secondary ms-2">Cancel</a>
        </form>
    </div>
}
